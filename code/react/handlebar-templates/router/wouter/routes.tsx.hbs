import { lazy, PropsWithChildren } from "react";
import { Route } from "wouter";

const Home = lazy(() => import("@/ui/pages"));
const About = lazy(() => import("@/ui/pages/about"));
const NotFound = lazy(() => import("@/ui/pages/not-found"));
{{#each routes}}
const {{pascalCase name}} = lazy(() => import("@/pages/{{kebabCase name}}"));
{{/each}}

const RouteWithLayout = ({ children }: PropsWithChildren<{ path: string }>) => (
  <Layout>{children}</Layout>
);

const routes = () => (
  <>
    <RouteWithLayout path="/about">
      <About />
    </RouteWithLayout>
    <RouteWithLayout path="/">
      <Home />
    </RouteWithLayout>
    {{#each routes}}
    <RouteWithLayout path="/{{path}}">
      <{{pascalCase name}} />
    </RouteWithLayout>
    {{/each}}
    <Route>
      <NotFound />
    </Route>
  </>
);

export default routes;
